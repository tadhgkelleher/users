<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fractal Mandala Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #121212;
      color: #eee;
      margin: 0;
      padding: 20px;
    }

    h1 {
      margin-bottom: 20px;
      color: #f0746c; /* Attractive accent */
    }

    canvas {
      border: 2px solid #555;
      margin: 20px auto;
      display: block;
      background-color: #222;
      box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.6);
      border-radius: 5px;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 15px;
    }

    button, input[type="number"], input[type="color"] {
      padding: 8px 15px;
      font-size: 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background-color: #619061; /* Calm */
      color: #fff;
    }

    button:hover, input[type="number"]:hover, input[type="color"]:hover {
      background-color: #517a51;
    }
     input[type="color"] {
        width: 40px;
        height: 25px;
        padding: 3px;
        appearance: none;  /* Override default color input styles */
        -webkit-appearance: none;  /* For Safari/Chrome */
        -moz-appearance: none; /* For Firefox */
    }

     input[type="color"]::-webkit-color-swatch-wrapper {
        padding: 0;
    }
    input[type="color"]::-webkit-color-swatch {
      border: none;
      border-radius: 3px;
    }
    .parameter_input {
         padding:5px;
         margin:10px;
    }

    label{
      color:#9ecaed
    }

    /* Make more responsivity, for cleaner display */
        @media (max-width: 600px) {
          .controls {
              flex-direction: column;
              align-items: center;
          }
            .parameter_input {
                 text-align:left;
            }
        }


  </style>
</head>
<body>
  <h1>Fractal Mandala Generator</h1>

  <div class="controls">
      <div class="parameter_input">
          <label for="segments">Segments:</label>
          <input type="number" id="segments" value="12" min="3" max="36">
      </div>
      <div class="parameter_input">
         <label for="levels">Levels:</label>
          <input type="number" id="levels" value="4" min="1" max="8">
      </div>
      <div class="parameter_input">
        <label for="scaleFactor">Scale:</label>
          <input type="number" id="scaleFactor" value="0.5" min="0.1" max="0.9" step="0.05">
      </div>

       <div class="parameter_input">
          <label for="initialRadius">Radius:</label>
          <input type="number" id="initialRadius" value="100" min="10" max="200">
       </div>
       <div class="parameter_input">
        <label for="lineColor">Color:</label>
          <input type="color" id="lineColor" value="#ffffff">
        </div>
        </div>
          <button id="generate">Generate</button>


  <canvas id="mandalaCanvas" width="600" height="600"></canvas>


  <script>
    const canvas = document.getElementById('mandalaCanvas');
    const ctx = canvas.getContext('2d');

    document.getElementById('generate').addEventListener('click', generateMandala);

    function generateMandala() {
      const numSegments = parseInt(document.getElementById('segments').value);
      const levels = parseInt(document.getElementById('levels').value);
      const scaleFactor = parseFloat(document.getElementById('scaleFactor').value);
      const initialRadius = parseInt(document.getElementById('initialRadius').value);
      const lineColor = document.getElementById('lineColor').value;


      ctx.clearRect(0, 0, canvas.width, canvas.height);

      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;


      function drawRecursiveCircle(x, y, radius, level) {
          if (level > levels) return;
            ctx.beginPath();
            ctx.arc(x, y, radius, 0, 2 * Math.PI);
            ctx.strokeStyle = lineColor;
            ctx.lineWidth = 1;
            ctx.stroke();

            // Draw Smaller circle on each "Recursion"
             drawRecursiveCircle(x, y, radius*scaleFactor, level+1) //recursive step! This will quickly spiral with multiple segments

      }

        // Rotate dot position via simple polar coordination from centre point based on value set by Segment variable for symmetry effects
      for (let i = 0; i < numSegments; i++) {
        const angle = (i / numSegments) * 2 * Math.PI;

        const x = centerX + initialRadius * Math.cos(angle); //initial placements on polar coordination.
        const y = centerY + initialRadius * Math.sin(angle);


            //Draw circles by segments by each new initial point. The level allows each section in cycle will do draw recursive steps with parameters.
           drawRecursiveCircle(x, y, initialRadius * scaleFactor, 1);


      }
    }
  </script>
</body>
</html>
